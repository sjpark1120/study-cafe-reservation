generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model Account {
  account_id BigInt @id @default(autoincrement())
  email String @unique @db.Text
  password String @db.Text
  name String @db.VarChar(30)
  display_name String @db.VarChar(30)
  role String @db.VarChar(15)
  status String @db.VarChar(10) @default("ACTIVE")
  created_at BigInt
  updated_at BigInt?
  last_login_at BigInt?
  email_verified_at BigInt?
}

model Cafe{
  cafe_id BigInt @id @default(autoincrement())
  business_number String @db.Text
  road_address String @db.Text
  detail_address String @db.Text
  hash_tags String[] @db.Text
  created_at BigInt
  updated_at BigInt?

  image CafeImage?
  price Price?
}

model CafeImage{
  cafe_image_id BigInt @id @default(autoincrement())
  cafe_id BigInt @unique
  image_url String @db.Text
  original_name String @db.Text
  identified_name String @db.Text
  extension String @db.VarChar(10)

  cafe Cafe @relation(fields: [cafe_id], references: [cafe_id])
}

model Price {
  price_id BigInt @id @default(autoincrement())
  cafe_id BigInt @unique
  price_value BigInt

  cafe Cafe @relation(fields: [cafe_id], references: [cafe_id])
}